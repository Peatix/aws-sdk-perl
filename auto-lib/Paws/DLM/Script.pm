# Generated by default/object.tt
package Paws::DLM::Script;
  use Moose;
  has ExecuteOperationOnScriptFailure => (is => 'ro', isa => 'Bool');
  has ExecutionHandler => (is => 'ro', isa => 'Str', required => 1);
  has ExecutionHandlerService => (is => 'ro', isa => 'Str');
  has ExecutionTimeout => (is => 'ro', isa => 'Int');
  has MaximumRetryCount => (is => 'ro', isa => 'Int');
  has Stages => (is => 'ro', isa => 'ArrayRef[Str|Undef]');

1;

### main pod documentation begin ###

=head1 NAME

Paws::DLM::Script

=head1 USAGE

This class represents one of two things:

=head3 Arguments in a call to a service

Use the attributes of this class as arguments to methods. You shouldn't make instances of this class. 
Each attribute should be used as a named argument in the calls that expect this type of object.

As an example, if Att1 is expected to be a Paws::DLM::Script object:

  $service_obj->Method(Att1 => { ExecuteOperationOnScriptFailure => $value, ..., Stages => $value  });

=head3 Results returned from an API call

Use accessors for each attribute. If Att1 is expected to be an Paws::DLM::Script object:

  $result = $service_obj->Method(...);
  $result->Att1->ExecuteOperationOnScriptFailure

=head1 DESCRIPTION

B<[Custom snapshot policies that target instances only]> Information
about pre and/or post scripts for a snapshot lifecycle policy that
targets instances. For more information, see Automating
application-consistent snapshots with pre and post scripts
(https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/automate-app-consistent-backups.html).

=head1 ATTRIBUTES


=head2 ExecuteOperationOnScriptFailure => Bool

Indicates whether Amazon Data Lifecycle Manager should default to
crash-consistent snapshots if the pre script fails.

=over

=item *

To default to crash consistent snapshot if the pre script fails,
specify C<true>.

=item *

To skip the instance for snapshot creation if the pre script fails,
specify C<false>.

=back

This parameter is supported only if you run a pre script. If you run a
post script only, omit this parameter.

Default: true


=head2 B<REQUIRED> ExecutionHandler => Str

The SSM document that includes the pre and/or post scripts to run.

=over

=item *

If you are automating VSS backups, specify C<AWS_VSS_BACKUP>. In this
case, Amazon Data Lifecycle Manager automatically uses the
C<AWSEC2-CreateVssSnapshot> SSM document.

=item *

If you are automating application-consistent snapshots for SAP HANA
workloads, specify C<AWSSystemsManagerSAP-CreateDLMSnapshotForSAPHANA>.

=item *

If you are using a custom SSM document that you own, specify either the
name or ARN of the SSM document. If you are using a custom SSM document
that is shared with you, specify the ARN of the SSM document.

=back



=head2 ExecutionHandlerService => Str

Indicates the service used to execute the pre and/or post scripts.

=over

=item *

If you are using custom SSM documents or automating
application-consistent snapshots of SAP HANA workloads, specify
C<AWS_SYSTEMS_MANAGER>.

=item *

If you are automating VSS Backups, omit this parameter.

=back

Default: AWS_SYSTEMS_MANAGER


=head2 ExecutionTimeout => Int

Specifies a timeout period, in seconds, after which Amazon Data
Lifecycle Manager fails the script run attempt if it has not completed.
If a script does not complete within its timeout period, Amazon Data
Lifecycle Manager fails the attempt. The timeout period applies to the
pre and post scripts individually.

If you are automating VSS Backups, omit this parameter.

Default: 10


=head2 MaximumRetryCount => Int

Specifies the number of times Amazon Data Lifecycle Manager should
retry scripts that fail.

=over

=item *

If the pre script fails, Amazon Data Lifecycle Manager retries the
entire snapshot creation process, including running the pre and post
scripts.

=item *

If the post script fails, Amazon Data Lifecycle Manager retries the
post script only; in this case, the pre script will have completed and
the snapshot might have been created.

=back

If you do not want Amazon Data Lifecycle Manager to retry failed
scripts, specify C<0>.

Default: 0


=head2 Stages => ArrayRef[Str|Undef]

Indicate which scripts Amazon Data Lifecycle Manager should run on
target instances. Pre scripts run before Amazon Data Lifecycle Manager
initiates snapshot creation. Post scripts run after Amazon Data
Lifecycle Manager initiates snapshot creation.

=over

=item *

To run a pre script only, specify C<PRE>. In this case, Amazon Data
Lifecycle Manager calls the SSM document with the C<pre-script>
parameter before initiating snapshot creation.

=item *

To run a post script only, specify C<POST>. In this case, Amazon Data
Lifecycle Manager calls the SSM document with the C<post-script>
parameter after initiating snapshot creation.

=item *

To run both pre and post scripts, specify both C<PRE> and C<POST>. In
this case, Amazon Data Lifecycle Manager calls the SSM document with
the C<pre-script> parameter before initiating snapshot creation, and
then it calls the SSM document again with the C<post-script> parameter
after initiating snapshot creation.

=back

If you are automating VSS Backups, omit this parameter.

Default: PRE and POST



=head1 SEE ALSO

This class forms part of L<Paws>, describing an object used in L<Paws::DLM>

=head1 BUGS and CONTRIBUTIONS

The source code is located here: L<https://github.com/pplu/aws-sdk-perl>

Please report bugs to: L<https://github.com/pplu/aws-sdk-perl/issues>

=cut

