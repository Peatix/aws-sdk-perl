# Generated by default/object.tt
package Paws::WAFV2::GeoMatchStatement;
  use Moose;
  has CountryCodes => (is => 'ro', isa => 'ArrayRef[Str|Undef]');
  has ForwardedIPConfig => (is => 'ro', isa => 'Paws::WAFV2::ForwardedIPConfig');

1;

### main pod documentation begin ###

=head1 NAME

Paws::WAFV2::GeoMatchStatement

=head1 USAGE

This class represents one of two things:

=head3 Arguments in a call to a service

Use the attributes of this class as arguments to methods. You shouldn't make instances of this class. 
Each attribute should be used as a named argument in the calls that expect this type of object.

As an example, if Att1 is expected to be a Paws::WAFV2::GeoMatchStatement object:

  $service_obj->Method(Att1 => { CountryCodes => $value, ..., ForwardedIPConfig => $value  });

=head3 Results returned from an API call

Use accessors for each attribute. If Att1 is expected to be an Paws::WAFV2::GeoMatchStatement object:

  $result = $service_obj->Method(...);
  $result->Att1->CountryCodes

=head1 DESCRIPTION

A rule statement that labels web requests by country and region and
that matches against web requests based on country code. A geo match
rule labels every request that it inspects regardless of whether it
finds a match.

=over

=item *

To manage requests only by country, you can use this statement by
itself and specify the countries that you want to match against in the
C<CountryCodes> array.

=item *

Otherwise, configure your geo match rule with Count action so that it
only labels requests. Then, add one or more label match rules to run
after the geo match rule and configure them to match against the
geographic labels and handle the requests as needed.

=back

WAF labels requests using the alpha-2 country and region codes from the
International Organization for Standardization (ISO) 3166 standard. WAF
determines the codes using either the IP address in the web request
origin or, if you specify it, the address in the geo match
C<ForwardedIPConfig>.

If you use the web request origin, the label formats are
C<awswaf:clientip:geo:region:E<lt>ISO country codeE<gt>-E<lt>ISO region
codeE<gt>> and C<awswaf:clientip:geo:country:E<lt>ISO country
codeE<gt>>.

If you use a forwarded IP address, the label formats are
C<awswaf:forwardedip:geo:region:E<lt>ISO country codeE<gt>-E<lt>ISO
region codeE<gt>> and C<awswaf:forwardedip:geo:country:E<lt>ISO country
codeE<gt>>.

For additional details, see Geographic match rule statement
(https://docs.aws.amazon.com/waf/latest/developerguide/waf-rule-statement-type-geo-match.html)
in the WAF Developer Guide
(https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html).

=head1 ATTRIBUTES


=head2 CountryCodes => ArrayRef[Str|Undef]

An array of two-character country codes that you want to match against,
for example, C<[ "US", "CN" ]>, from the alpha-2 country ISO codes of
the ISO 3166 international standard.

When you use a geo match statement just for the region and country
labels that it adds to requests, you still have to supply a country
code for the rule to evaluate. In this case, you configure the rule to
only count matching requests, but it will still generate logging and
count metrics for any matches. You can reduce the logging and metrics
that the rule produces by specifying a country that's unlikely to be a
source of traffic to your site.


=head2 ForwardedIPConfig => L<Paws::WAFV2::ForwardedIPConfig>

The configuration for inspecting IP addresses in an HTTP header that
you specify, instead of using the IP address that's reported by the web
request origin. Commonly, this is the X-Forwarded-For (XFF) header, but
you can specify any header name.

If the specified header isn't present in the request, WAF doesn't apply
the rule to the web request at all.



=head1 SEE ALSO

This class forms part of L<Paws>, describing an object used in L<Paws::WAFV2>

=head1 BUGS and CONTRIBUTIONS

The source code is located here: L<https://github.com/pplu/aws-sdk-perl>

Please report bugs to: L<https://github.com/pplu/aws-sdk-perl/issues>

=cut

