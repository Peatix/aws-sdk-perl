# Generated by default/object.tt
package Paws::SageMaker::ClarifyInferenceConfig;
  use Moose;
  has ContentTemplate => (is => 'ro', isa => 'Str');
  has FeatureHeaders => (is => 'ro', isa => 'ArrayRef[Str|Undef]');
  has FeaturesAttribute => (is => 'ro', isa => 'Str');
  has FeatureTypes => (is => 'ro', isa => 'ArrayRef[Str|Undef]');
  has LabelAttribute => (is => 'ro', isa => 'Str');
  has LabelHeaders => (is => 'ro', isa => 'ArrayRef[Str|Undef]');
  has LabelIndex => (is => 'ro', isa => 'Int');
  has MaxPayloadInMB => (is => 'ro', isa => 'Int');
  has MaxRecordCount => (is => 'ro', isa => 'Int');
  has ProbabilityAttribute => (is => 'ro', isa => 'Str');
  has ProbabilityIndex => (is => 'ro', isa => 'Int');

1;

### main pod documentation begin ###

=head1 NAME

Paws::SageMaker::ClarifyInferenceConfig

=head1 USAGE

This class represents one of two things:

=head3 Arguments in a call to a service

Use the attributes of this class as arguments to methods. You shouldn't make instances of this class. 
Each attribute should be used as a named argument in the calls that expect this type of object.

As an example, if Att1 is expected to be a Paws::SageMaker::ClarifyInferenceConfig object:

  $service_obj->Method(Att1 => { ContentTemplate => $value, ..., ProbabilityIndex => $value  });

=head3 Results returned from an API call

Use accessors for each attribute. If Att1 is expected to be an Paws::SageMaker::ClarifyInferenceConfig object:

  $result = $service_obj->Method(...);
  $result->Att1->ContentTemplate

=head1 DESCRIPTION

The inference configuration parameter for the model container.

=head1 ATTRIBUTES


=head2 ContentTemplate => Str

A template string used to format a JSON record into an acceptable model
container input. For example, a C<ContentTemplate> string
C<'{"myfeatures":$features}'> will format a list of features C<[1,2,3]>
into the record string C<'{"myfeatures":[1,2,3]}'>. Required only when
the model container input is in JSON Lines format.


=head2 FeatureHeaders => ArrayRef[Str|Undef]

The names of the features. If provided, these are included in the
endpoint response payload to help readability of the C<InvokeEndpoint>
output. See the Response
(https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-invoke-endpoint.html#clarify-online-explainability-response)
section under B<Invoke the endpoint> in the Developer Guide for more
information.


=head2 FeaturesAttribute => Str

Provides the JMESPath expression to extract the features from a model
container input in JSON Lines format. For example, if
C<FeaturesAttribute> is the JMESPath expression C<'myfeatures'>, it
extracts a list of features C<[1,2,3]> from request data
C<'{"myfeatures":[1,2,3]}'>.


=head2 FeatureTypes => ArrayRef[Str|Undef]

A list of data types of the features (optional). Applicable only to NLP
explainability. If provided, C<FeatureTypes> must have at least one
C<'text'> string (for example, C<['text']>). If C<FeatureTypes> is not
provided, the explainer infers the feature types based on the baseline
data. The feature types are included in the endpoint response payload.
For additional information see the response
(https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-invoke-endpoint.html#clarify-online-explainability-response)
section under B<Invoke the endpoint> in the Developer Guide for more
information.


=head2 LabelAttribute => Str

A JMESPath expression used to locate the list of label headers in the
model container output.

B<Example>: If the model container output of a batch request is
C<'{"labels":["cat","dog","fish"],"probability":[0.6,0.3,0.1]}'>, then
set C<LabelAttribute> to C<'labels'> to extract the list of label
headers C<["cat","dog","fish"]>


=head2 LabelHeaders => ArrayRef[Str|Undef]

For multiclass classification problems, the label headers are the names
of the classes. Otherwise, the label header is the name of the
predicted label. These are used to help readability for the output of
the C<InvokeEndpoint> API. See the response
(https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-invoke-endpoint.html#clarify-online-explainability-response)
section under B<Invoke the endpoint> in the Developer Guide for more
information. If there are no label headers in the model container
output, provide them manually using this parameter.


=head2 LabelIndex => Int

A zero-based index used to extract a label header or list of label
headers from model container output in CSV format.

B<Example for a multiclass model:> If the model container output
consists of label headers followed by probabilities:
C<'"[\'cat\',\'dog\',\'fish\']","[0.1,0.6,0.3]"'>, set C<LabelIndex> to
C<0> to select the label headers C<['cat','dog','fish']>.


=head2 MaxPayloadInMB => Int

The maximum payload size (MB) allowed of a request from the explainer
to the model container. Defaults to C<6> MB.


=head2 MaxRecordCount => Int

The maximum number of records in a request that the model container can
process when querying the model container for the predictions of a
synthetic dataset
(https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-online-explainability-create-endpoint.html#clarify-online-explainability-create-endpoint-synthetic).
A record is a unit of input data that inference can be made on, for
example, a single line in CSV data. If C<MaxRecordCount> is C<1>, the
model container expects one record per request. A value of 2 or greater
means that the model expects batch requests, which can reduce overhead
and speed up the inferencing process. If this parameter is not
provided, the explainer will tune the record count per request
according to the model container's capacity at runtime.


=head2 ProbabilityAttribute => Str

A JMESPath expression used to extract the probability (or score) from
the model container output if the model container is in JSON Lines
format.

B<Example>: If the model container output of a single request is
C<'{"predicted_label":1,"probability":0.6}'>, then set
C<ProbabilityAttribute> to C<'probability'>.


=head2 ProbabilityIndex => Int

A zero-based index used to extract a probability value (score) or list
from model container output in CSV format. If this value is not
provided, the entire model container output will be treated as a
probability value (score) or list.

B<Example for a single class model:> If the model container output
consists of a string-formatted prediction label followed by its
probability: C<'1,0.6'>, set C<ProbabilityIndex> to C<1> to select the
probability value C<0.6>.

B<Example for a multiclass model:> If the model container output
consists of a string-formatted prediction label followed by its
probability: C<'"[\'cat\',\'dog\',\'fish\']","[0.1,0.6,0.3]"'>, set
C<ProbabilityIndex> to C<1> to select the probability values
C<[0.1,0.6,0.3]>.



=head1 SEE ALSO

This class forms part of L<Paws>, describing an object used in L<Paws::SageMaker>

=head1 BUGS and CONTRIBUTIONS

The source code is located here: L<https://github.com/pplu/aws-sdk-perl>

Please report bugs to: L<https://github.com/pplu/aws-sdk-perl/issues>

=cut

