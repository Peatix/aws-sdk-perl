# Generated by default/object.tt
package Paws::AutoScaling::RefreshPreferences;
  use Moose;
  has AlarmSpecification => (is => 'ro', isa => 'Paws::AutoScaling::AlarmSpecification');
  has AutoRollback => (is => 'ro', isa => 'Bool');
  has BakeTime => (is => 'ro', isa => 'Int');
  has CheckpointDelay => (is => 'ro', isa => 'Int');
  has CheckpointPercentages => (is => 'ro', isa => 'ArrayRef[Int]');
  has InstanceWarmup => (is => 'ro', isa => 'Int');
  has MaxHealthyPercentage => (is => 'ro', isa => 'Int');
  has MinHealthyPercentage => (is => 'ro', isa => 'Int');
  has ScaleInProtectedInstances => (is => 'ro', isa => 'Str');
  has SkipMatching => (is => 'ro', isa => 'Bool');
  has StandbyInstances => (is => 'ro', isa => 'Str');

1;

### main pod documentation begin ###

=head1 NAME

Paws::AutoScaling::RefreshPreferences

=head1 USAGE

This class represents one of two things:

=head3 Arguments in a call to a service

Use the attributes of this class as arguments to methods. You shouldn't make instances of this class. 
Each attribute should be used as a named argument in the calls that expect this type of object.

As an example, if Att1 is expected to be a Paws::AutoScaling::RefreshPreferences object:

  $service_obj->Method(Att1 => { AlarmSpecification => $value, ..., StandbyInstances => $value  });

=head3 Results returned from an API call

Use accessors for each attribute. If Att1 is expected to be an Paws::AutoScaling::RefreshPreferences object:

  $result = $service_obj->Method(...);
  $result->Att1->AlarmSpecification

=head1 DESCRIPTION

Describes the preferences for an instance refresh.

=head1 ATTRIBUTES


=head2 AlarmSpecification => L<Paws::AutoScaling::AlarmSpecification>

(Optional) The CloudWatch alarm specification. CloudWatch alarms can be
used to identify any issues and fail the operation if an alarm
threshold is met.


=head2 AutoRollback => Bool

(Optional) Indicates whether to roll back the Auto Scaling group to its
previous configuration if the instance refresh fails or a CloudWatch
alarm threshold is met. The default is C<false>.

A rollback is not supported in the following situations:

=over

=item *

There is no desired configuration specified for the instance refresh.

=item *

The Auto Scaling group has a launch template that uses an Amazon Web
Services Systems Manager parameter instead of an AMI ID for the
C<ImageId> property.

=item *

The Auto Scaling group uses the launch template's C<$Latest> or
C<$Default> version.

=back

For more information, see Undo changes with a rollback
(https://docs.aws.amazon.com/autoscaling/ec2/userguide/instance-refresh-rollback.html)
in the I<Amazon EC2 Auto Scaling User Guide>.


=head2 BakeTime => Int

The amount of time, in seconds, to wait at the end of an instance
refresh before the instance refresh is considered complete.


=head2 CheckpointDelay => Int

(Optional) The amount of time, in seconds, to wait after a checkpoint
before continuing. This property is optional, but if you specify a
value for it, you must also specify a value for
C<CheckpointPercentages>. If you specify a value for
C<CheckpointPercentages> and not for C<CheckpointDelay>, the
C<CheckpointDelay> defaults to C<3600> (1 hour).


=head2 CheckpointPercentages => ArrayRef[Int]

(Optional) Threshold values for each checkpoint in ascending order.
Each number must be unique. To replace all instances in the Auto
Scaling group, the last number in the array must be C<100>.

For usage examples, see Add checkpoints to an instance refresh
(https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-adding-checkpoints-instance-refresh.html)
in the I<Amazon EC2 Auto Scaling User Guide>.


=head2 InstanceWarmup => Int

A time period, in seconds, during which an instance refresh waits
before moving on to replacing the next instance after a new instance
enters the C<InService> state.

This property is not required for normal usage. Instead, use the
C<DefaultInstanceWarmup> property of the Auto Scaling group. The
C<InstanceWarmup> and C<DefaultInstanceWarmup> properties work the same
way. Only specify this property if you must override the
C<DefaultInstanceWarmup> property.

If you do not specify this property, the instance warmup by default is
the value of the C<DefaultInstanceWarmup> property, if defined (which
is recommended in all cases), or the C<HealthCheckGracePeriod> property
otherwise.


=head2 MaxHealthyPercentage => Int

Specifies the maximum percentage of the group that can be in service
and healthy, or pending, to support your workload when replacing
instances. The value is expressed as a percentage of the desired
capacity of the Auto Scaling group. Value range is 100 to 200.

If you specify C<MaxHealthyPercentage>, you must also specify
C<MinHealthyPercentage>, and the difference between them cannot be
greater than 100. A larger range increases the number of instances that
can be replaced at the same time.

If you do not specify this property, the default is 100 percent, or the
percentage set in the instance maintenance policy for the Auto Scaling
group, if defined.


=head2 MinHealthyPercentage => Int

Specifies the minimum percentage of the group to keep in service,
healthy, and ready to use to support your workload to allow the
operation to continue. The value is expressed as a percentage of the
desired capacity of the Auto Scaling group. Value range is 0 to 100.

If you do not specify this property, the default is 90 percent, or the
percentage set in the instance maintenance policy for the Auto Scaling
group, if defined.


=head2 ScaleInProtectedInstances => Str

Choose the behavior that you want Amazon EC2 Auto Scaling to use if
instances protected from scale in are found.

The following lists the valid values:

=over

=item Refresh

Amazon EC2 Auto Scaling replaces instances that are protected from
scale in.

=item Ignore

Amazon EC2 Auto Scaling ignores instances that are protected from scale
in and continues to replace instances that are not protected.

=item Wait (default)

Amazon EC2 Auto Scaling waits one hour for you to remove scale-in
protection. Otherwise, the instance refresh will fail.

=back



=head2 SkipMatching => Bool

(Optional) Indicates whether skip matching is enabled. If enabled
(C<true>), then Amazon EC2 Auto Scaling skips replacing instances that
match the desired configuration. If no desired configuration is
specified, then it skips replacing instances that have the same launch
template and instance types that the Auto Scaling group was using
before the start of the instance refresh. The default is C<false>.

For more information, see Use an instance refresh with skip matching
(https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-instance-refresh-skip-matching.html)
in the I<Amazon EC2 Auto Scaling User Guide>.


=head2 StandbyInstances => Str

Choose the behavior that you want Amazon EC2 Auto Scaling to use if
instances in C<Standby> state are found.

The following lists the valid values:

=over

=item Terminate

Amazon EC2 Auto Scaling terminates instances that are in C<Standby>.

=item Ignore

Amazon EC2 Auto Scaling ignores instances that are in C<Standby> and
continues to replace instances that are in the C<InService> state.

=item Wait (default)

Amazon EC2 Auto Scaling waits one hour for you to return the instances
to service. Otherwise, the instance refresh will fail.

=back




=head1 SEE ALSO

This class forms part of L<Paws>, describing an object used in L<Paws::AutoScaling>

=head1 BUGS and CONTRIBUTIONS

The source code is located here: L<https://github.com/pplu/aws-sdk-perl>

Please report bugs to: L<https://github.com/pplu/aws-sdk-perl/issues>

=cut

