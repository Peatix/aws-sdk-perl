# Generated by default/object.tt
package Paws::CostExplorer::AnomalySubscription;
  use Moose;
  has AccountId => (is => 'ro', isa => 'Str');
  has Frequency => (is => 'ro', isa => 'Str', required => 1);
  has MonitorArnList => (is => 'ro', isa => 'ArrayRef[Str|Undef]', required => 1);
  has Subscribers => (is => 'ro', isa => 'ArrayRef[Paws::CostExplorer::Subscriber]', required => 1);
  has SubscriptionArn => (is => 'ro', isa => 'Str');
  has SubscriptionName => (is => 'ro', isa => 'Str', required => 1);
  has Threshold => (is => 'ro', isa => 'Num');
  has ThresholdExpression => (is => 'ro', isa => 'Paws::CostExplorer::Expression');

1;

### main pod documentation begin ###

=head1 NAME

Paws::CostExplorer::AnomalySubscription

=head1 USAGE

This class represents one of two things:

=head3 Arguments in a call to a service

Use the attributes of this class as arguments to methods. You shouldn't make instances of this class. 
Each attribute should be used as a named argument in the calls that expect this type of object.

As an example, if Att1 is expected to be a Paws::CostExplorer::AnomalySubscription object:

  $service_obj->Method(Att1 => { AccountId => $value, ..., ThresholdExpression => $value  });

=head3 Results returned from an API call

Use accessors for each attribute. If Att1 is expected to be an Paws::CostExplorer::AnomalySubscription object:

  $result = $service_obj->Method(...);
  $result->Att1->AccountId

=head1 DESCRIPTION

An C<AnomalySubscription> resource (also referred to as an alert
subscription) sends notifications about specific anomalies that meet an
alerting criteria defined by you.

You can specify the frequency of the alerts and the subscribers to
notify.

Anomaly subscriptions can be associated with one or more
C<AnomalyMonitor>
(https://docs.aws.amazon.com/aws-cost-management/latest/APIReference/API_AnomalyMonitor.html)
resources, and they only send notifications about anomalies detected by
those associated monitors. You can also configure a threshold to
further control which anomalies are included in the notifications.

Anomalies that donE<rsquo>t exceed the chosen threshold and therefore
donE<rsquo>t trigger notifications from an anomaly subscription will
still be available on the console and from the C<GetAnomalies>
(https://docs.aws.amazon.com/aws-cost-management/latest/APIReference/API_GetAnomalies.html)
API.

=head1 ATTRIBUTES


=head2 AccountId => Str

Your unique account identifier.


=head2 B<REQUIRED> Frequency => Str

The frequency that anomaly notifications are sent. Notifications are
sent either over email (for DAILY and WEEKLY frequencies) or SNS (for
IMMEDIATE frequency). For more information, see Creating an Amazon SNS
topic for anomaly notifications
(https://docs.aws.amazon.com/cost-management/latest/userguide/ad-SNS.html).


=head2 B<REQUIRED> MonitorArnList => ArrayRef[Str|Undef]

A list of cost anomaly monitors.


=head2 B<REQUIRED> Subscribers => ArrayRef[L<Paws::CostExplorer::Subscriber>]

A list of subscribers to notify.


=head2 SubscriptionArn => Str

The C<AnomalySubscription> Amazon Resource Name (ARN).


=head2 B<REQUIRED> SubscriptionName => Str

The name for the subscription.


=head2 Threshold => Num

(deprecated)

An absolute dollar value that must be exceeded by the anomaly's total
impact (see Impact
(https://docs.aws.amazon.com/aws-cost-management/latest/APIReference/API_Impact.html)
for more details) for an anomaly notification to be generated.

This field has been deprecated. To specify a threshold, use
ThresholdExpression. Continued use of Threshold will be treated as
shorthand syntax for a ThresholdExpression.

One of Threshold or ThresholdExpression is required for this resource.
You cannot specify both.


=head2 ThresholdExpression => L<Paws::CostExplorer::Expression>

An Expression
(https://docs.aws.amazon.com/aws-cost-management/latest/APIReference/API_Expression.html)
object used to specify the anomalies that you want to generate alerts
for. This supports dimensions and nested expressions. The supported
dimensions are C<ANOMALY_TOTAL_IMPACT_ABSOLUTE> and
C<ANOMALY_TOTAL_IMPACT_PERCENTAGE>, corresponding to an
anomalyE<rsquo>s TotalImpact and TotalImpactPercentage, respectively
(see Impact
(https://docs.aws.amazon.com/aws-cost-management/latest/APIReference/API_Impact.html)
for more details). The supported nested expression types are C<AND> and
C<OR>. The match option C<GREATER_THAN_OR_EQUAL> is required. Values
must be numbers between 0 and 10,000,000,000 in string format.

One of Threshold or ThresholdExpression is required for this resource.
You cannot specify both.

The following are examples of valid ThresholdExpressions:

=over

=item *

Absolute threshold: C<{ "Dimensions": { "Key":
"ANOMALY_TOTAL_IMPACT_ABSOLUTE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } }>

=item *

Percentage threshold: C<{ "Dimensions": { "Key":
"ANOMALY_TOTAL_IMPACT_PERCENTAGE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } }>

=item *

C<AND> two thresholds together: C<{ "And": [ { "Dimensions": { "Key":
"ANOMALY_TOTAL_IMPACT_ABSOLUTE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } }, { "Dimensions": {
"Key": "ANOMALY_TOTAL_IMPACT_PERCENTAGE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } } ] }>

=item *

C<OR> two thresholds together: C<{ "Or": [ { "Dimensions": { "Key":
"ANOMALY_TOTAL_IMPACT_ABSOLUTE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } }, { "Dimensions": {
"Key": "ANOMALY_TOTAL_IMPACT_PERCENTAGE", "MatchOptions": [
"GREATER_THAN_OR_EQUAL" ], "Values": [ "100" ] } } ] }>

=back




=head1 SEE ALSO

This class forms part of L<Paws>, describing an object used in L<Paws::CostExplorer>

=head1 BUGS and CONTRIBUTIONS

The source code is located here: L<https://github.com/pplu/aws-sdk-perl>

Please report bugs to: L<https://github.com/pplu/aws-sdk-perl/issues>

=cut

